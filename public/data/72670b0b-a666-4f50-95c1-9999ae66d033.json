{"cacheVersion":67,"page":{"id":"72670b0b-a666-4f50-95c1-9999ae66d033","paths":{"en":"redireccion","default":"redireccion"},"cmsDataSetPath":null,"workflows":[{"id":"de1dc482-6912-4c57-9118-9a7952779b17","icon":"cursor","name":"Untitled workflow","index":0,"actions":{"10766dfa-1a15-4078-87dd-cfb37923d88f":{"id":"10766dfa-1a15-4078-87dd-cfb37923d88f","name":"Redirect user after login","next":"3cb7e392-267b-4b66-b3ca-fa9518fca766","type":"change-page","pageId":"40c588d4-1d5d-48f4-aa9e-a9bd97451228","disabled":false,"parameters":{"id":{"code":"context.workflow['6bfbd7f2-76b4-43c9-beec-d2392b03e007'].result?.[0]?.['organization_id']","__wwtype":"f"}},"navigateMode":"internal"},"3cb7e392-267b-4b66-b3ca-fa9518fca766":{"id":"3cb7e392-267b-4b66-b3ca-fa9518fca766","next":"5e0bc2ae-4cdb-4eeb-90d2-ce9e3584361f","type":"fetch-collection","disabled":false,"collectionId":"bc9e894f-b9f6-4789-a74a-d07927ad48a4"},"3fd0a5c6-f028-4a28-a530-83a4ab377d47":{"id":"3fd0a5c6-f028-4a28-a530-83a4ab377d47","type":"reset-variables","varsId":["e5cd36b5-4280-45d7-bb2e-548f76e448ef"],"disabled":false},"4aa588d3-a5c3-42df-873b-e541711ceb8f":{"id":"4aa588d3-a5c3-42df-873b-e541711ceb8f","next":"3fd0a5c6-f028-4a28-a530-83a4ab377d47","type":"fetch-collection","collectionId":"030259d7-cfa5-4524-8dfb-0828f26f074c"},"5e0bc2ae-4cdb-4eeb-90d2-ce9e3584361f":{"id":"5e0bc2ae-4cdb-4eeb-90d2-ce9e3584361f","next":"b68b8814-7cc7-4a18-b462-a7eba73c18ca","type":"fetch-collection","disabled":false,"collectionId":"aa06e012-b3a7-4a55-ad91-0142c0f220c5"},"6bfbd7f2-76b4-43c9-beec-d2392b03e007":{"id":"6bfbd7f2-76b4-43c9-beec-d2392b03e007","args":{"table":"organization_members","filters":[{"fn":"eq","value":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['user']?.['id']","__wwtype":"f"},"column":"user_id","isEnabled":true}],"dataFields":["organization_id"],"fieldsMode":"guided","dataFieldsAdvanced":""},"next":"10766dfa-1a15-4078-87dd-cfb37923d88f","type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-select","disabled":false},"b68b8814-7cc7-4a18-b462-a7eba73c18ca":{"id":"b68b8814-7cc7-4a18-b462-a7eba73c18ca","next":"4aa588d3-a5c3-42df-873b-e541711ceb8f","type":"wait","value":20000}},"trigger":"onload","isSearched":false,"description":"On click","firstAction":"6bfbd7f2-76b4-43c9-beec-d2392b03e007"}]},"sections":{"531c4dcd-e28d-45d5-97f0-3cd3eef739a1":{"uid":"531c4dcd-e28d-45d5-97f0-3cd3eef739a1","linkId":"dea51fc2-c312-4e4f-a69e-102cf87a3e58","_state":{"style":{"default":{"margin":" 0 0 0","padding":"500px"}}},"content":{"default":{"wwObjects":[{"uid":"52c3d9aa-64a9-40a1-81cf-083244caca08","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-around"}},"sectionBaseId":"99586bd3-2b15-4d6b-a025-6a50d07ca845","sectionTitle":"Section"}},"wwObjects":{"52c3d9aa-64a9-40a1-81cf-083244caca08":{"uid":"52c3d9aa-64a9-40a1-81cf-083244caca08","_state":{"style":{"default":{"align":"center","margin":"0 0 0px 0","padding":"50px"}}},"content":{"default":{"size":"50px","color":"#049AF2","spinner":"chase"}},"name":"Loader","wwObjectBaseId":"aa27b26f-0686-4c29-98c5-8217044045b7","libraryComponentBaseId":null,"parentSectionId":"531c4dcd-e28d-45d5-97f0-3cd3eef739a1"}},"collections":[{"id":"030259d7-cfa5-4524-8dfb-0828f26f074c","designId":"a30c65ba-aa7b-4b4e-9e3f-bb901c09f813","settingsId":"ece61af3-87b7-4ea4-96a6-6f5178354763","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Carpetas","displayBy":null,"lastSyncDate":null,"config":{"table":"organization_folders_view","dataFields":["id","name","content","created_at","IDorganization","id_organization_text"],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$or","conditions":[{"field":"id_organization_text","value":{"code":"globalContext.pageParameters['id']","__wwtype":"f"},"operator":"$eq"},{"field":"id_organization_text","value":{"code":"globalContext.pageParameters['ido']","__wwtype":"f"},"operator":"$eq"}]},"sort":[{"key":"created_at","direction":"ASC"}],"isSyncing":false,"needSync":false,"fields":{},"folder":null,"description":null,"createdAt":"2025-08-20T19:57:55.437Z","updatedAt":"2025-09-17T15:24:09.276Z","data":{}},{"id":"bc9e894f-b9f6-4789-a74a-d07927ad48a4","designId":"a30c65ba-aa7b-4b4e-9e3f-bb901c09f813","settingsId":"ece61af3-87b7-4ea4-96a6-6f5178354763","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Plantillas_New","displayBy":null,"lastSyncDate":null,"config":{"table":"titulo_consultas_view","dataFields":["id","created_at","Titulo","IDplantilla","IDusuario","Titulo_Default","Titulo_Usuario","id_usuario_text"],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":250,"mode":"dynamic","filter":{"link":"$and","conditions":[{"field":"id_usuario_text","value":{"code":"globalContext.pageParameters['id']","__wwtype":"f"},"operator":"$eq"}]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"PaginaNueva/","description":null,"createdAt":"2025-08-08T14:10:05.641Z","updatedAt":"2025-09-18T13:34:47.033Z","data":{}},{"id":"aa06e012-b3a7-4a55-ad91-0142c0f220c5","designId":"a30c65ba-aa7b-4b4e-9e3f-bb901c09f813","settingsId":"ece61af3-87b7-4ea4-96a6-6f5178354763","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Titulador","displayBy":null,"lastSyncDate":null,"config":{"table":"titulo_consultas_view","dataFields":["id","created_at","Titulo","IDplantilla","IDusuario","Titulo_Default","Titulo_Usuario","id_usuario_text"],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[{"field":"IDplantilla","value":{"code":"globalContext.pageParameters['ID']","__wwtype":"f"},"operator":"$eq"}]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"PaginaNueva/","description":null,"createdAt":"2025-07-31T16:25:47.721Z","updatedAt":"2025-09-18T14:31:08.842Z","data":{}}],"variables":[{"id":"614dd645-0d3b-4886-9507-2c3786c6d7af","type":"string","name":"searchQuery","defaultValue":"","isLocalStorage":false,"isPersistentOnNav":true},{"id":"59038fbf-e628-4fac-868a-b8c048d7daf2","type":"boolean","name":"isGridView","defaultValue":true,"isLocalStorage":false,"isPersistentOnNav":false}],"workflows":[],"formulas":[{"id":"ea84d0a5-f586-42af-a9cf-4519168e0361","code":"// 1. Obtener los datos de forma segura\r\n// Usamos el operador de encadenamiento opcional (?.) para evitar errores si la colección\r\n// aún no se ha cargado. Si es undefined, usamos un array vacío [].\r\nconst items = collections['bc9e894f-b9f6-4789-a74a-d07927ad48a4']?.data || [];\r\n\r\n// 2. Obtener el término de búsqueda de la variable\r\n// Si la variable está vacía o no existe, usamos una cadena vacía '' como valor por defecto.\r\nconst searchTerm = variables['614dd645-0d3b-4886-9507-2c3786c6d7af'] || '';\r\n\r\n// 3. Si no hay término de búsqueda, devolver todos los items sin filtrar.\r\n// Esto es una optimización para no procesar la lista innecesariamente.\r\nif (!searchTerm) {\r\n  return items;\r\n}\r\n\r\n// 4. Preparar el término de búsqueda para una comparación que no distinga mayúsculas/minúsculas.\r\n// Lo convertimos a minúsculas una sola vez antes de empezar a filtrar para ser más eficientes.\r\nconst query = searchTerm.toLowerCase();\r\n\r\n// 5. Filtrar el array de items\r\nconst filteredItems = items.filter(item => {\r\n  // Verificación de seguridad: nos aseguramos de que el item exista y tenga la propiedad 'Titulo'.\r\n  // Esto previene errores si algún dato en la colección viene incompleto.\r\n  if (!item || !item.Titulo) {\r\n    return false; // Si no tiene Título, no puede coincidir, así que lo descartamos.\r\n  }\r\n\r\n  // Convertimos el 'Titulo' del item a minúsculas y comprobamos si INCLUYE el término de búsqueda.\r\n  return item.Titulo.toLowerCase().includes(query);\r\n});\r\n\r\n// 6. Devolver el resultado del filtro\r\nreturn filteredItems;","parameters":[],"isAsync":false,"type":"js","filter":[],"sort":[]}],"libraryComponents":[]}